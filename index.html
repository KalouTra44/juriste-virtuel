<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Juriste Virtuel - Your immediate legal response in every language">
    <meta name="theme-color" content="#1a365d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Juriste Virtuel">
    
    <title>Juriste Virtuel - Your immediate legal response</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #1a365d;
            --secondary-color: #2d4a5e;
            --accent-color: #b8860b;
            --background-color: #f7fafc;
            --surface-color: #ffffff;
            --text-primary: #2d3748;
            --text-secondary: #4a5568;
            --border-color: #e2e8f0;
            --success-color: #38a169;
            --error-color: #e53e3e;
            --warning-color: #dd6b20;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--background-color) 0%, #edf2f7 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
        }

        .logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .logo::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        .logo i {
            font-size: 48px;
            color: var(--accent-color);
            z-index: 1;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 400;
            margin-bottom: 10px;
        }

        .motto {
            font-size: 1rem;
            color: var(--accent-color);
            font-weight: 500;
            font-style: italic;
        }

        .main-content {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        .card {
            background: var(--surface-color);
            border-radius: 16px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .language-selector {
            margin-bottom: 25px;
        }

        .language-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .language-btn {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            background: var(--surface-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .language-btn:hover {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
            transform: translateY(-1px);
        }

        .language-btn.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
            box-shadow: var(--shadow);
        }

        .input-section {
            margin-bottom: 25px;
        }

        .input-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .input-container {
            position: relative;
        }

        .question-input {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            background: var(--surface-color);
        }

        .question-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(26, 54, 93, 0.1);
        }

        .char-counter {
            position: absolute;
            bottom: 10px;
            right: 15px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            background: var(--surface-color);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .submit-btn {
            width: 100%;
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .response-section {
            margin-top: 20px;
        }

        .response-content {
            background: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            min-height: 100px;
            white-space: pre-wrap;
            font-size: 1rem;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
        }

        .response-content:empty::before {
            content: attr(data-placeholder);
            color: var(--text-secondary);
            font-style: italic;
        }

        .error-message {
            background: #fed7d7;
            color: var(--error-color);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--error-color);
            display: none;
        }

        .success-indicator {
            color: var(--success-color);
            font-size: 0.9rem;
            margin-top: 10px;
            display: none;
        }

        .demo-notice {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            color: #2d3436;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
            box-shadow: var(--shadow);
        }

        .demo-notice i {
            color: #e17055;
            margin-right: 10px;
            font-size: 1.2rem;
        }

        .footer {
            margin-top: 50px;
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .footer-links {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: var(--secondary-color);
        }

        /* Mobile Optimization */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .title {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .card {
                padding: 20px;
            }

            .language-grid {
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 8px;
            }

            .language-btn {
                padding: 8px 10px;
                font-size: 0.8rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 10px;
            }
        }

        @media (max-width: 480px) {
            .logo {
                width: 100px;
                height: 100px;
            }

            .logo i {
                font-size: 40px;
            }

            .title {
                font-size: 1.8rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .card {
                padding: 15px;
            }
        }

        /* Animations */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-up {
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-balance-scale"></i>
            </div>
            <h1 class="title" data-translate="title">Juriste Virtuel</h1>
            <p class="subtitle" data-translate="subtitle">Solution Immédiate</p>
            <p class="motto" data-translate="motto">Your immediate legal response</p>
        </header>

        <main class="main-content">
            <div class="demo-notice fade-in">
                <i class="fas fa-info-circle"></i>
                <span data-translate="demo_notice">
                    Ceci est une version de démonstration. Pour accéder aux fonctionnalités complètes avec l'IA, veuillez configurer l'application Flask avec votre clé API OpenAI.
                </span>
            </div>

            <div class="card fade-in">
                <div class="language-selector">
                    <label class="input-label" data-translate="language_label">Choisissez votre langue / Choose your language</label>
                    <div class="language-grid">
                        <button class="language-btn active" data-lang="auto">
                            <i class="fas fa-globe"></i>
                            <span data-translate="auto">Auto</span>
                        </button>
                        <button class="language-btn" data-lang="fr">
                            <i class="fas fa-flag"></i>
                            Français
                        </button>
                        <button class="language-btn" data-lang="en">
                            <i class="fas fa-flag"></i>
                            English
                        </button>
                        <button class="language-btn" data-lang="es">
                            <i class="fas fa-flag"></i>
                            Español
                        </button>
                        <button class="language-btn" data-lang="ar">
                            <i class="fas fa-flag"></i>
                            العربية
                        </button>
                        <button class="language-btn" data-lang="pt">
                            <i class="fas fa-flag"></i>
                            Português
                        </button>
                        <button class="language-btn" data-lang="de">
                            <i class="fas fa-flag"></i>
                            Deutsch
                        </button>
                        <button class="language-btn" data-lang="it">
                            <i class="fas fa-flag"></i>
                            Italiano
                        </button>
                        <button class="language-btn" data-lang="zh">
                            <i class="fas fa-flag"></i>
                            中文
                        </button>
                        <button class="language-btn" data-lang="ru">
                            <i class="fas fa-flag"></i>
                            Русский
                        </button>
                        <button class="language-btn" data-lang="ja">
                            <i class="fas fa-flag"></i>
                            日本語
                        </button>
                    </div>
                </div>

                <div class="input-section">
                    <label for="question" class="input-label" data-translate="question_label">Posez votre question juridique :</label>
                    <div class="input-container">
                        <textarea 
                            id="question" 
                            class="question-input" 
                            placeholder=""
                            data-translate-placeholder="question_placeholder"
                            maxlength="1000"
                        ></textarea>
                        <div class="char-counter">
                            <span id="char-count">0</span>/1000
                        </div>
                    </div>
                </div>

                <button id="submit-btn" class="submit-btn">
                    <i class="fas fa-paper-plane"></i>
                    <span data-translate="submit_btn">Envoyer</span>
                    <div class="loading-spinner"></div>
                </button>

                <div class="error-message" id="error-message"></div>
                <div class="success-indicator" id="success-indicator">
                    <i class="fas fa-check-circle"></i>
                    <span data-translate="response_received">Réponse reçue</span>
                </div>
            </div>

            <div class="card response-section slide-up" id="response-card" style="display: none;">
                <h3 class="input-label" data-translate="response_title">Réponse :</h3>
                <div class="response-content" id="response-content" data-translate-placeholder="response_placeholder"></div>
            </div>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <p data-translate="disclaimer">
                    Les informations fournies sont à titre informatif uniquement et ne constituent pas des conseils juridiques professionnels.
                </p>
                <div class="footer-links">
                    <a href="#" class="footer-link" data-translate="privacy">Confidentialité</a>
                    <a href="#" class="footer-link" data-translate="terms">Conditions</a>
                    <a href="#" class="footer-link" data-translate="contact">Contact</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Translation system
        const translations = {
            fr: {
                title: "Juriste Virtuel",
                subtitle: "Solution Immédiate",
                motto: "Votre réponse juridique immédiate",
                demo_notice: "Ceci est une version de démonstration. Pour accéder aux fonctionnalités complètes avec l'IA, veuillez configurer l'application Flask avec votre clé API OpenAI.",
                language_label: "Choisissez votre langue",
                auto: "Auto",
                question_label: "Posez votre question juridique :",
                question_placeholder: "Décrivez votre situation juridique en détail...",
                submit_btn: "Envoyer",
                response_title: "Réponse :",
                response_placeholder: "Votre réponse apparaîtra ici...",
                response_received: "Réponse reçue",
                disclaimer: "Les informations fournies sont à titre informatif uniquement et ne constituent pas des conseils juridiques professionnels.",
                privacy: "Confidentialité",
                terms: "Conditions",
                contact: "Contact",
                error_no_question: "Veuillez saisir une question.",
                error_demo: "Ceci est une version de démonstration. Voici un exemple de réponse juridique générale.",
                demo_response: "Merci pour votre question juridique. Dans cette version de démonstration, nous ne pouvons pas fournir de réponses personnalisées. Pour une assistance juridique complète, veuillez consulter un avocat qualifié. Cette application nécessite une clé API OpenAI pour fonctionner pleinement."
            },
            en: {
                title: "Virtual Lawyer",
                subtitle: "Immediate Solution",
                motto: "Your immediate legal response",
                demo_notice: "This is a demo version. To access full AI features, please configure the Flask application with your OpenAI API key.",
                language_label: "Choose your language",
                auto: "Auto",
                question_label: "Ask your legal question:",
                question_placeholder: "Describe your legal situation in detail...",
                submit_btn: "Send",
                response_title: "Response:",
                response_placeholder: "Your response will appear here...",
                response_received: "Response received",
                disclaimer: "The information provided is for informational purposes only and does not constitute professional legal advice.",
                privacy: "Privacy",
                terms: "Terms",
                contact: "Contact",
                error_no_question: "Please enter a question.",
                error_demo: "This is a demo version. Here's a sample general legal response.",
                demo_response: "Thank you for your legal question. In this demo version, we cannot provide personalized responses. For complete legal assistance, please consult a qualified lawyer. This application requires an OpenAI API key to function fully."
            },
            es: {
                title: "Abogado Virtual",
                subtitle: "Solución Inmediata",
                motto: "Su respuesta legal inmediata",
                demo_notice: "Esta es una versión de demostración. Para acceder a las funciones completas de IA, configure la aplicación Flask con su clave API de OpenAI.",
                language_label: "Elija su idioma",
                auto: "Auto",
                question_label: "Haga su pregunta legal:",
                question_placeholder: "Describa su situación legal en detalle...",
                submit_btn: "Enviar",
                response_title: "Respuesta:",
                response_placeholder: "Su respuesta aparecerá aquí...",
                response_received: "Respuesta recibida",
                disclaimer: "La información proporcionada es solo para fines informativos y no constituye asesoramiento legal profesional.",
                privacy: "Privacidad",
                terms: "Términos",
                contact: "Contacto",
                error_no_question: "Por favor ingrese una pregunta.",
                error_demo: "Esta es una versión de demostración. Aquí hay una respuesta legal general de muestra.",
                demo_response: "Gracias por su pregunta legal. En esta versión de demostración, no podemos proporcionar respuestas personalizadas. Para asistencia legal completa, consulte a un abogado calificado. Esta aplicación requiere una clave API de OpenAI para funcionar completamente."
            },
            ar: {
                title: "المحامي الافتراضي",
                subtitle: "حل فوري",
                motto: "استجابتك القانونية الفورية",
                demo_notice: "هذه نسخة تجريبية. للوصول إلى الميزات الكاملة للذكاء الاصطناعي، يرجى تكوين تطبيق Flask باستخدام مفتاح OpenAI API الخاص بك.",
                language_label: "اختر لغتك",
                auto: "تلقائي",
                question_label: "اطرح سؤالك القانوني:",
                question_placeholder: "اوصف وضعك القانوني بالتفصيل...",
                submit_btn: "إرسال",
                response_title: "الجواب:",
                response_placeholder: "ستظهر إجابتك هنا...",
                response_received: "تم استلام الرد",
                disclaimer: "المعلومات المقدمة لأغراض إعلامية فقط ولا تشكل استشارة قانونية مهنية.",
                privacy: "الخصوصية",
                terms: "الشروط",
                contact: "اتصل",
                error_no_question: "يرجى إدخال سؤال.",
                error_demo: "هذه نسخة تجريبية. إليك نموذج للإجابة القانونية العامة.",
                demo_response: "شكراً لسؤالك القانوني. في هذه النسخة التجريبية، لا يمكننا تقديم إجابات شخصية. للحصول على مساعدة قانونية كاملة، يرجى استشارة محامٍ مؤهل. يتطلب هذا التطبيق مفتاح OpenAI API للعمل بشكل كامل."
            },
            pt: {
                title: "Advogado Virtual",
                subtitle: "Solução Imediata",
                motto: "Sua resposta legal imediata",
                demo_notice: "Esta é uma versão de demonstração. Para acessar recursos completos de IA, configure a aplicação Flask com sua chave API OpenAI.",
                language_label: "Escolha seu idioma",
                auto: "Auto",
                question_label: "Faça sua pergunta legal:",
                question_placeholder: "Descreva sua situação legal em detalhes...",
                submit_btn: "Enviar",
                response_title: "Resposta:",
                response_placeholder: "Sua resposta aparecerá aqui...",
                response_received: "Resposta recebida",
                disclaimer: "As informações fornecidas são apenas para fins informativos e não constituem aconselhamento jurídico profissional.",
                privacy: "Privacidade",
                terms: "Termos",
                contact: "Contato",
                error_no_question: "Por favor, digite uma pergunta.",
                error_demo: "Esta é uma versão de demonstração. Aqui está uma resposta legal geral de exemplo.",
                demo_response: "Obrigado por sua pergunta legal. Nesta versão de demonstração, não podemos fornecer respostas personalizadas. Para assistência legal completa, consulte um advogado qualificado. Esta aplicação requer uma chave API OpenAI para funcionar completamente."
            },
            de: {
                title: "Virtueller Anwalt",
                subtitle: "Sofortige Lösung",
                motto: "Ihre sofortige rechtliche Antwort",
                demo_notice: "Dies ist eine Demo-Version. Um vollständige KI-Funktionen zu nutzen, konfigurieren Sie die Flask-Anwendung mit Ihrem OpenAI API-Schlüssel.",
                language_label: "Wählen Sie Ihre Sprache",
                auto: "Auto",
                question_label: "Stellen Sie Ihre rechtliche Frage:",
                question_placeholder: "Beschreiben Sie Ihre rechtliche Situation im Detail...",
                submit_btn: "Senden",
                response_title: "Antwort:",
                response_placeholder: "Ihre Antwort wird hier erscheinen...",
                response_received: "Antwort erhalten",
                disclaimer: "Die bereitgestellten Informationen dienen nur zu Informationszwecken und stellen keine professionelle Rechtsberatung dar.",
                privacy: "Datenschutz",
                terms: "Bedingungen",
                contact: "Kontakt",
                error_no_question: "Bitte geben Sie eine Frage ein.",
                error_demo: "Dies ist eine Demo-Version. Hier ist eine allgemeine rechtliche Beispielantwort.",
                demo_response: "Vielen Dank für Ihre rechtliche Frage. In dieser Demo-Version können wir keine personalisierten Antworten geben. Für umfassende rechtliche Hilfe konsultieren Sie bitte einen qualifizierten Anwalt. Diese Anwendung benötigt einen OpenAI API-Schlüssel für den vollständigen Betrieb."
            },
            it: {
                title: "Avvocato Virtuale",
                subtitle: "Soluzione Immediata",
                motto: "La tua risposta legale immediata",
                demo_notice: "Questa è una versione demo. Per accedere alle funzionalità complete dell'IA, configura l'applicazione Flask con la tua chiave API OpenAI.",
                language_label: "Scegli la tua lingua",
                auto: "Auto",
                question_label: "Fai la tua domanda legale:",
                question_placeholder: "Descrivi la tua situazione legale in dettaglio...",
                submit_btn: "Invia",
                response_title: "Risposta:",
                response_placeholder: "La tua risposta apparirà qui...",
                response_received: "Risposta ricevuta",
                disclaimer: "Le informazioni fornite sono solo a scopo informativo e non costituiscono consulenza legale professionale.",
                privacy: "Privacy",
                terms: "Termini",
                contact: "Contatto",
                error_no_question: "Si prega di inserire una domanda.",
                error_demo: "Questa è una versione demo. Ecco una risposta legale generale di esempio.",
                demo_response: "Grazie per la tua domanda legale. In questa versione demo, non possiamo fornire risposte personalizzate. Per assistenza legale completa, consulta un avvocato qualificato. Questa applicazione richiede una chiave API OpenAI per funzionare completamente."
            },
            zh: {
                title: "虚拟律师",
                subtitle: "即时解决方案",
                motto: "您的即时法律回应",
                demo_notice: "这是演示版本。要访问完整的AI功能，请使用您的OpenAI API密钥配置Flask应用程序。",
                language_label: "选择您的语言",
                auto: "自动",
                question_label: "提出您的法律问题：",
                question_placeholder: "详细描述您的法律情况...",
                submit_btn: "发送",
                response_title: "回应：",
                response_placeholder: "您的回答将在这里显示...",
                response_received: "已收到回复",
                disclaimer: "提供的信息仅供参考，不构成专业法律建议。",
                privacy: "隐私",
                terms: "条款",
                contact: "联系",
                error_no_question: "请输入问题。",
                error_demo: "这是演示版本。这里是一般法律回复示例。",
                demo_response: "感谢您的法律问题。在此演示版本中，我们无法提供个性化回复。如需完整的法律协助，请咨询合格的律师。此应用程序需要OpenAI API密钥才能完全运行。"
            },
            ru: {
                title: "Виртуальный Юрист",
                subtitle: "Немедленное Решение",
                motto: "Ваш немедленный правовой ответ",
                demo_notice: "Это демо-версия. Для доступа к полным возможностям ИИ настройте Flask-приложение с вашим OpenAI API ключом.",
                language_label: "Выберите ваш язык",
                auto: "Авто",
                question_label: "Задайте ваш правовой вопрос:",
                question_placeholder: "Опишите вашу правовую ситуацию подробно...",
                submit_btn: "Отправить",
                response_title: "Ответ:",
                response_placeholder: "Ваш ответ появится здесь...",
                response_received: "Ответ получен",
                disclaimer: "Предоставленная информация носит только информационный характер и не является профессиональной юридической консультацией.",
                privacy: "Конфиденциальность",
                terms: "Условия",
                contact: "Контакт",
                error_no_question: "Пожалуйста, введите вопрос.",
                error_demo: "Это демо-версия. Вот пример общего правового ответа.",
                demo_response: "Спасибо за ваш правовой вопрос. В этой демо-версии мы не можем предоставить персонализированные ответы. Для полной юридической помощи обратитесь к квалифицированному юристу. Это приложение требует OpenAI API ключ для полной работы."
            },
            ja: {
                title: "バーチャル弁護士",
                subtitle: "即座の解決策",
                motto: "あなたの即座の法的回答",
                demo_notice: "これはデモ版です。完全なAI機能にアクセスするには、OpenAI APIキーでFlaskアプリケーションを設定してください。",
                language_label: "言語を選択してください",
                auto: "自動",
                question_label: "法的質問をしてください：",
                question_placeholder: "あなたの法的状況を詳しく説明してください...",
                submit_btn: "送信",
                response_title: "回答：",
                response_placeholder: "あなたの回答がここに表示されます...",
                response_received: "回答を受信しました",
                disclaimer: "提供される情報は情報提供のみを目的としており、専門的な法的助言を構成するものではありません。",
                privacy: "プライバシー",
                terms: "利用規約",
                contact: "お問い合わせ",
                error_no_question: "質問を入力してください。",
                error_demo: "これはデモ版です。一般的な法的回答の例です。",
                demo_response: "法的質問をありがとうございます。このデモ版では、個別の回答を提供できません。完全な法的支援については、資格のある弁護士にご相談ください。このアプリケーションは完全に機能するためにOpenAI APIキーが必要です。"
            }
        };

        // App state
        let currentLanguage = 'auto';
        let isLoading = false;

        // DOM elements
        const questionInput = document.getElementById('question');
        const submitBtn = document.getElementById('submit-btn');
        const responseCard = document.getElementById('response-card');
        const responseContent = document.getElementById('response-content');
        const errorMessage = document.getElementById('error-message');
        const successIndicator = document.getElementById('success-indicator');
        const charCount = document.getElementById('char-count');
        const languageBtns = document.querySelectorAll('.language-btn');
        const loadingSpinner = submitBtn.querySelector('.loading-spinner');

        // Initialize app
        function init() {
            setupEventListeners();
            updateTranslations();
            updateCharCount();
        }

        function setupEventListeners() {
            // Language selection
            languageBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    currentLanguage = btn.dataset.lang;
                    updateActiveLanguage();
                    updateTranslations();
                });
            });

            // Character counter
            questionInput.addEventListener('input', updateCharCount);

            // Submit form
            submitBtn.addEventListener('click', handleSubmit);

            // Enter key to submit
            questionInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && e.ctrlKey && !isLoading) {
                    handleSubmit();
                }
            });
        }

        function updateActiveLanguage() {
            languageBtns.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === currentLanguage);
            });
        }

        function updateTranslations() {
            const lang = currentLanguage === 'auto' ? 'fr' : currentLanguage;
            const t = translations[lang] || translations.fr;

            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.dataset.translate;
                if (t[key]) {
                    el.textContent = t[key];
                }
            });

            document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                const key = el.dataset.translatePlaceholder;
                if (t[key]) {
                    el.placeholder = t[key];
                }
            });

            // Update response placeholder
            const responsePlaceholder = document.querySelector('[data-translate-placeholder="response_placeholder"]');
            if (responsePlaceholder && t.response_placeholder) {
                responsePlaceholder.dataset.placeholder = t.response_placeholder;
            }

            // Update document language
            document.documentElement.lang = lang;
        }

        function updateCharCount() {
            const count = questionInput.value.length;
            charCount.textContent = count;
            charCount.style.color = count > 950 ? '#e53e3e' : '#4a5568';
        }

        async function handleSubmit() {
            if (isLoading) return;

            const question = questionInput.value.trim();
            if (!question) {
                showError(getCurrentTranslation('error_no_question'));
                return;
            }

            setLoading(true);
            hideMessages();

            // Simulate a demo response since this is a standalone version
            setTimeout(() => {
                const demoResponse = getCurrentTranslation('demo_response');
                showResponse(demoResponse);
                showSuccess();
                setLoading(false);
            }, 2000);
        }

        function getCurrentTranslation(key) {
            const lang = currentLanguage === 'auto' ? 'fr' : currentLanguage;
            const t = translations[lang] || translations.fr;
            return t[key] || translations.fr[key];
        }

        function setLoading(loading) {
            isLoading = loading;
            submitBtn.disabled = loading;
            
            if (loading) {
                loadingSpinner.style.display = 'block';
                submitBtn.querySelector('span').style.opacity = '0.7';
            } else {
                loadingSpinner.style.display = 'none';
                submitBtn.querySelector('span').style.opacity = '1';
            }
        }

        function showResponse(answer) {
            responseContent.textContent = answer;
            responseCard.style.display = 'block';
            responseCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
        }

        function showSuccess() {
            successIndicator.style.display = 'block';
            setTimeout(() => {
                successIndicator.style.display = 'none';
            }, 3000);
        }

        function hideMessages() {
            errorMessage.style.display = 'none';
            successIndicator.style.display = 'none';
        }

        // Initialize app when DOM is ready
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>